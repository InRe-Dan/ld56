[gd_scene load_steps=29 format=3 uid="uid://4a2wbnhvgulj"]

[ext_resource type="Script" path="res://world/world.gd" id="1_m6c00"]
[ext_resource type="PackedScene" uid="uid://dqyqlpicgb0dq" path="res://web/web_factory.tscn" id="2_u3u5w"]
[ext_resource type="Script" path="res://insects/data/mob_data.gd" id="3_ivcbe"]
[ext_resource type="PackedScene" uid="uid://d3ud2rqlsvy6p" path="res://spider/spider.tscn" id="3_pypjb"]
[ext_resource type="Resource" uid="uid://cq0t7gbt2mrw3" path="res://insects/data/fly_data.tres" id="4_ytwgf"]
[ext_resource type="PackedScene" uid="uid://2kdgbkrdrcu7" path="res://insects/spawner/mob_spawner.tscn" id="7_8wlli"]
[ext_resource type="Texture2D" uid="uid://do3b5ncvb62fy" path="res://assets/woopd.png" id="7_86lbx"]
[ext_resource type="Script" path="res://world/background.gd" id="7_iuor6"]
[ext_resource type="Texture2D" uid="uid://vkbehguryo40" path="res://assets/background_icons/tree_branches.png" id="8_l0u6f"]
[ext_resource type="Texture2D" uid="uid://da06dyhn5luhw" path="res://assets/background_icons/leaf1.png" id="10_4eig0"]
[ext_resource type="Shader" path="res://world/wind.gdshader" id="10_57em3"]
[ext_resource type="PackedScene" uid="uid://523036m0xuf1" path="res://menus/game_ui.tscn" id="10_y58tq"]
[ext_resource type="Texture2D" uid="uid://gukuv7yrrhqd" path="res://assets/background_icons/background.png" id="11_4ijh7"]
[ext_resource type="Texture2D" uid="uid://bvbuvch1rxf6e" path="res://assets/background_icons/leaf2.png" id="11_7l5q3"]
[ext_resource type="Texture2D" uid="uid://cflssl2bbhkl0" path="res://assets/background_icons/leaf3.png" id="12_hh8ao"]
[ext_resource type="Texture2D" uid="uid://cq4sexdsflati" path="res://assets/background_icons/leaf4.png" id="13_a1sk7"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_jub1u"]
normal = Vector2(0, 1)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_wp2x1"]
normal = Vector2(1, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_dbhsl"]
normal = Vector2(-1, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wfqg1"]
size = Vector2(3840, 200)

[sub_resource type="Curve" id="Curve_2coha"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.228881, 0.48638), 0.0, 0.0, 0, 0, Vector2(0.491438, 0.48638), 0.0, 0.0, 0, 0, Vector2(0.828196, 0.478405), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="Curve" id="Curve_ek8vk"]
_data = [Vector2(0, 0), 0.0, 0.982845, 0, 0, Vector2(1, 1), 1.08666, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_qf50r"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.211758, 0.707995), 0.0, 0.0, 0, 0, Vector2(0.497146, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.74099), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="Curve" id="Curve_l8ggl"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.166096, 0.864721), 0.0, 0.0, 0, 0, Vector2(0.291667, 1), 0.0, 0.0, 0, 0, Vector2(0.505708, 1), 0.0, 0.0, 0, 0, Vector2(0.628425, 1), 0.0, 0.0, 0, 0, Vector2(0.739726, 1), 0.0, 0.0, 0, 0, Vector2(0.83105, 0.815228), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 8

[sub_resource type="ShaderMaterial" id="ShaderMaterial_spqm1"]
shader = ExtResource("10_57em3")
shader_parameter/x_intensity = 0.5
shader_parameter/y_intensity = 2.0
shader_parameter/offset = 2.0
shader_parameter/speed = 1.0
shader_parameter/wave_frequency = 20.0
shader_parameter/wave_length = 200.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_c5evr"]
shader = ExtResource("10_57em3")
shader_parameter/x_intensity = 3.0
shader_parameter/y_intensity = 0.5
shader_parameter/offset = 0.0
shader_parameter/speed = 3.0
shader_parameter/wave_frequency = 20.0
shader_parameter/wave_length = 200.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_orxw2"]
shader = ExtResource("10_57em3")
shader_parameter/x_intensity = 3.0
shader_parameter/y_intensity = 1.5
shader_parameter/offset = 0.2
shader_parameter/speed = 0.9
shader_parameter/wave_frequency = 20.0
shader_parameter/wave_length = 200.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1ulgm"]
shader = ExtResource("10_57em3")
shader_parameter/x_intensity = 2.5
shader_parameter/y_intensity = 0.5
shader_parameter/offset = 0.5
shader_parameter/speed = 2.0
shader_parameter/wave_frequency = 20.0
shader_parameter/wave_length = 200.0

[node name="World" type="Node2D"]
script = ExtResource("1_m6c00")

[node name="Bounds" type="Node2D" parent="."]

[node name="Borders" type="StaticBody2D" parent="Bounds"]
collision_layer = 32
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/Borders"]
position = Vector2(979, 0)
shape = SubResource("WorldBoundaryShape2D_jub1u")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Bounds/Borders"]
position = Vector2(1, 465)
shape = SubResource("WorldBoundaryShape2D_wp2x1")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Bounds/Borders"]
position = Vector2(1920, 568)
shape = SubResource("WorldBoundaryShape2D_dbhsl")

[node name="Killbox" type="Area2D" parent="Bounds"]
collision_layer = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/Killbox"]
position = Vector2(965, 1289)
shape = SubResource("RectangleShape2D_wfqg1")

[node name="MobSpawner" parent="." node_paths=PackedStringArray("top_left_marker", "bottom_right_marker") instance=ExtResource("7_8wlli")]
z_index = 1
top_left_marker = NodePath("TopLeft")
bottom_right_marker = NodePath("BottomRight")
horizontal_spread = SubResource("Curve_2coha")
vertical_spread = SubResource("Curve_ek8vk")
spawn_interval = 6.0
mobs = Array[ExtResource("3_ivcbe")]([ExtResource("4_ytwgf")])

[node name="TopLeft" type="Marker2D" parent="MobSpawner"]
position = Vector2(25, 10)

[node name="BottomRight" type="Marker2D" parent="MobSpawner"]
position = Vector2(1904, 1070)

[node name="Background" type="Node2D" parent="."]
script = ExtResource("7_iuor6")

[node name="BackgroundImage" type="Sprite2D" parent="Background"]
unique_name_in_owner = true
position = Vector2(965, 545)
scale = Vector2(1.06667, 1.06667)
texture = ExtResource("11_4ijh7")

[node name="TreeBranches" type="Sprite2D" parent="Background"]
unique_name_in_owner = true
position = Vector2(965, 541)
scale = Vector2(1.067, 1.067)
texture = ExtResource("8_l0u6f")

[node name="Trees" type="Node2D" parent="."]

[node name="RightBranch" type="StaticBody2D" parent="Trees"]
collision_layer = 18
collision_mask = 14

[node name="VisualMask" type="Line2D" parent="Trees/RightBranch"]
visible = false
texture_repeat = 3
position = Vector2(0, -1)
points = PackedVector2Array(1792, 475, 1684, 546, 1492, 700, 1358, 778)
width = 30.0
width_curve = SubResource("Curve_qf50r")
default_color = Color(0.84, 0.75964, 0.7224, 1)
texture = ExtResource("7_86lbx")
texture_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="CollisionMask" type="CollisionPolygon2D" parent="Trees/RightBranch"]
build_mode = 1
polygon = PackedVector2Array(1940, 499, 1678, 1097)

[node name="RightBranch2" type="StaticBody2D" parent="Trees"]
position = Vector2(777, -1179)
rotation = 0.630475
collision_layer = 18
collision_mask = 14

[node name="VisualMask" type="Line2D" parent="Trees/RightBranch2"]
visible = false
texture_repeat = 3
position = Vector2(0, -1)
points = PackedVector2Array(1792, 475, 1684, 546, 1492, 700, 1358, 778)
width = 30.0
width_curve = SubResource("Curve_qf50r")
default_color = Color(0.84, 0.75964, 0.7224, 1)
texture = ExtResource("7_86lbx")
texture_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="CollisionMask" type="CollisionPolygon2D" parent="Trees/RightBranch2"]
build_mode = 1
polygon = PackedVector2Array(1631.91, 324.284, 1665.34, 614.344, 1880.29, 1034.38, 1658.13, 614.651)

[node name="LeftBranch3" type="StaticBody2D" parent="Trees/RightBranch2"]
position = Vector2(547.484, -18.2701)
rotation = 1.21
collision_layer = 18
collision_mask = 14

[node name="VisualMask" type="Line2D" parent="Trees/RightBranch2/LeftBranch3"]
visible = false
texture_repeat = 3
position = Vector2(0, -1)
points = PackedVector2Array(1774.03, 484.84, 1684, 546, 1492, 700, 1358, 778)
width = 30.0
width_curve = SubResource("Curve_qf50r")
default_color = Color(0.84, 0.75964, 0.7224, 1)
texture = ExtResource("7_86lbx")
texture_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="CollisionMask" type="CollisionPolygon2D" parent="Trees/RightBranch2/LeftBranch3"]
build_mode = 1
polygon = PackedVector2Array(2122.64, 247.425, 1600.88, 889.644)

[node name="LeftBranch" type="StaticBody2D" parent="Trees"]
position = Vector2(-91, -921)
rotation = 0.949372
collision_layer = 18
collision_mask = 14

[node name="VisualMask" type="Line2D" parent="Trees/LeftBranch"]
visible = false
texture_repeat = 3
position = Vector2(0, -1)
points = PackedVector2Array(1792, 475, 1684, 546, 1492, 700, 1358, 778)
width = 30.0
width_curve = SubResource("Curve_qf50r")
default_color = Color(0.84, 0.75964, 0.7224, 1)
texture = ExtResource("7_86lbx")
texture_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="CollisionMask" type="CollisionPolygon2D" parent="Trees/LeftBranch"]
build_mode = 1
polygon = PackedVector2Array(1842.54, 683.493, 910.477, 473.617)

[node name="LeftBranch2" type="StaticBody2D" parent="Trees"]
position = Vector2(688, -1399)
rotation = 1.39924
collision_layer = 18
collision_mask = 14

[node name="VisualMask" type="Line2D" parent="Trees/LeftBranch2"]
visible = false
texture_repeat = 3
position = Vector2(0, -1)
points = PackedVector2Array(1792, 475, 1684, 546, 1492, 700, 1358, 778)
width = 30.0
width_curve = SubResource("Curve_qf50r")
default_color = Color(0.84, 0.75964, 0.7224, 1)
texture = ExtResource("7_86lbx")
texture_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="CollisionMask" type="CollisionPolygon2D" parent="Trees/LeftBranch2"]
build_mode = 1
polygon = PackedVector2Array(1542.75, 667.166, 1259.31, 873.812)

[node name="LeftTree" type="StaticBody2D" parent="Trees"]
collision_layer = 18
collision_mask = 14

[node name="VisualMask" type="Line2D" parent="Trees/LeftTree"]
visible = false
texture_repeat = 3
points = PackedVector2Array(480, 0, 495, 161, 519.11, 351.989, 537, 454, 546, 667, 591, 930, 618, 1234)
width = 60.0
width_curve = SubResource("Curve_l8ggl")
default_color = Color(0.84, 0.75964, 0.7224, 1)
texture = ExtResource("7_86lbx")
texture_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="CollisionMask" type="CollisionPolygon2D" parent="Trees/LeftTree"]
build_mode = 1
polygon = PackedVector2Array(262, -11, 498, 1117)

[node name="RightTree" type="StaticBody2D" parent="Trees"]
collision_layer = 18
collision_mask = 14

[node name="VisualMask" type="Line2D" parent="Trees/RightTree"]
visible = false
texture_repeat = 3
position = Vector2(0, -1)
points = PackedVector2Array(1440, 0, 1422, 183, 1394, 372, 1373, 640, 1331, 891, 1293, 1236)
width = 60.0
width_curve = SubResource("Curve_qf50r")
default_color = Color(0.84, 0.75964, 0.7224, 1)
texture = ExtResource("7_86lbx")
texture_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="CollisionMask" type="CollisionPolygon2D" parent="Trees/RightTree"]
build_mode = 1
polygon = PackedVector2Array(1600, -19, 1616, 549, 1546, 1125, 1624, 549)

[node name="WebFactory" parent="." instance=ExtResource("2_u3u5w")]

[node name="Spider" parent="." instance=ExtResource("3_pypjb")]
unique_name_in_owner = true
position = Vector2(384, 609)

[node name="Foreground" type="Node2D" parent="."]

[node name="Leaf1" type="Sprite2D" parent="Foreground"]
material = SubResource("ShaderMaterial_spqm1")
position = Vector2(965, 541)
scale = Vector2(1.067, 1.067)
texture = ExtResource("10_4eig0")

[node name="Leaf2" type="Sprite2D" parent="Foreground"]
material = SubResource("ShaderMaterial_c5evr")
position = Vector2(965, 541)
scale = Vector2(1.067, 1.067)
texture = ExtResource("11_7l5q3")

[node name="Leaf3" type="Sprite2D" parent="Foreground"]
material = SubResource("ShaderMaterial_orxw2")
position = Vector2(965, 541)
scale = Vector2(1.067, 1.067)
texture = ExtResource("12_hh8ao")

[node name="Leaf4" type="Sprite2D" parent="Foreground"]
material = SubResource("ShaderMaterial_1ulgm")
position = Vector2(965, 541)
scale = Vector2(1.067, 1.067)
texture = ExtResource("13_a1sk7")

[node name="UI" type="CanvasLayer" parent="."]
layer = 5

[node name="GameUI" parent="UI" instance=ExtResource("10_y58tq")]

[connection signal="body_entered" from="Bounds/Killbox" to="." method="_on_killbox_body_entered"]
